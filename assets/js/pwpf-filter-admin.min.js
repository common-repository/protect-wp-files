window.wp=window.wp||{},function(t){var e=wp.media;e.view.AttachmentFilters.Taxonomy=e.view.AttachmentFilters.extend({tagName:"select",id:"protect-wordpress-files",createFilters:function(){var e={},i=this;_.each(i.options.termList||{},function(r,o){var s=r.term_id,l=t("<div/>").html(r.term_name).text();e[s]={text:l,priority:o+2},e[s].props={},e[s].props[i.options.taxonomy]=s}),e.all={text:i.options.termListTitle,priority:1},e.all.props={},e.all.props[i.options.taxonomy]="all",this.filters=e}});var i=e.view.AttachmentsBrowser;e.view.AttachmentsBrowser=e.view.AttachmentsBrowser.extend({createToolbar:function(){var r=this.options.filters;i.prototype.createToolbar.apply(this,arguments);var o=this,s=1;t.each(pwpf,function(t,i){i.term_list&&r&&o.toolbar.set(t+"-filter",new e.view.AttachmentFilters.Taxonomy({controller:o.controller,model:o.collection.props,priority:10*s++-80,taxonomy:"protect-wordpress-files",termList:i.term_list,termListTitle:i.list_title,className:"protect-wordpress-files attachment-"+t+"-filter"}).render())})}}),e.view.Attachment.Library=wp.media.view.Attachment.Library.extend({className:function(){return"attachment "+this.model.get("customClass")},imageSize:function(t){var e=this.model.get("sizes"),i=!1;if(t=t||"medium",e){if(e[t]?i=e[t]:e.large?i=e.large:e.thumbnail?i=e.thumbnail:e.full&&(i=e.full),"private"==this.model.get("customClass"))return{url:i.url+"/",width:i.width,height:i.height,orientation:i.orientation};if(i)return _.clone(i)}return{url:this.model.get("url"),width:this.model.get("width"),height:this.model.get("height"),orientation:this.model.get("orientation")}}})}(jQuery);